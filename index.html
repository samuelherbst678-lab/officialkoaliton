function drawHalfRing(svg, data, totalSeats, methodKey){
  svg.setAttribute("viewBox", `0 0 900 460`);
  svg.setAttribute("preserveAspectRatio", "xMidYMin meet");
  const w = 900, h = 460, cx = w/2, cy = h*0.82;   // <--- Original: 0.82
  const rOuter = Math.min(w, h*2) * 0.46;
  const ringWidth = 220;
  const rInner = rOuter - ringWidth;

  let total = data.reduce((a,b)=>a+(b.seats||0),0); 
  if(total===0) total = totalSeats;
  let start = Math.PI;

  const g = document.createElementNS("http://www.w3.org/2000/svg","g");
  g.setAttribute("transform", `translate(${cx}, ${cy})`);
  svg.appendChild(g);

  function arcPath(cx, cy, r1, r2, a0, a1){
    const large=(a1-a0)>Math.PI?1:0;
    const x0o=cx+r1*Math.cos(a0), y0o=cy+r1*Math.sin(a0);
    const x1o=cx+r1*Math.cos(a1), y1o=cy+r1*Math.sin(a1);
    const x1i=cx+r2*Math.cos(a1), y1i=cy+r2*Math.sin(a1);
    const x0i=cx+r2*Math.cos(a0), y0i=cy+r2*Math.sin(a0);
    return `M ${x0o} ${y0o} A ${r1} ${r1} 0 ${large} 1 ${x1o} ${y1o} L ${x1i} ${y1i} A ${r2} ${r2} 0 ${large} 0 ${x0i} ${y0i} Z`;
  }

  data.forEach(p=>{
    const share=(p.seats||0)/total; 
    const sweep=share*Math.PI; 
    const end=start+sweep;
    if(sweep>0){
      const path=document.createElementNS("http://www.w3.org/2000/svg","path");
      path.setAttribute("d", arcPath(cx,cy,rOuter,rInner,start,end));
      path.setAttribute("fill", p.color||"#888");
      path.setAttribute("stroke","rgba(255,255,255,.12)"); 
      path.setAttribute("stroke-width","1");
      g.appendChild(path);
    }
    start=end;
  });

  $("#majorityLbl").textContent = (Math.floor(totalSeats/2)+1).toString();
}
